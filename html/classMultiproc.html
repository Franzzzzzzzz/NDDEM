<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NDDEM: Multiproc&lt; d &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NDDEM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classMultiproc-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Multiproc&lt; d &gt; Class Template Reference<div class="ingroups"><a class="el" href="group__DEM.html">Discrete Element Simulations</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Manual multiprocessor handling for OpenMP, for max efficiency &amp; avoiding bugs &amp; race conditions, hopefully.  
 <a href="classMultiproc.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Multiproc_8h_source.html">Multiproc.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af469cf9d0075a8d76d22de5980b8602f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMultiproc.html#af469cf9d0075a8d76d22de5980b8602f">initialise</a> (int NN, int PP, <a class="el" href="classParameters.html">Parameters</a>&lt; <a class="el" href="group__Texturing.html#ga234b9e563972a04e7cf0b991133f81fd">d</a> &gt; &amp;<a class="el" href="structParam.html">Param</a>)</td></tr>
<tr class="separator:af469cf9d0075a8d76d22de5980b8602f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga56976c11478e25728e04bf9561aff8e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DEM.html#ga56976c11478e25728e04bf9561aff8e6">disp_share</a> ()</td></tr>
<tr class="memdesc:ga56976c11478e25728e04bf9561aff8e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Display the # of particle on each thread.  <a href="group__DEM.html#ga56976c11478e25728e04bf9561aff8e6">More...</a><br /></td></tr>
<tr class="separator:ga56976c11478e25728e04bf9561aff8e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafc0ea8142d7f6a344e70231626f129f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DEM.html#gafc0ea8142d7f6a344e70231626f129f2">delaying</a> (int ID, int j, <a class="el" href="classAction.html">Action</a> &amp;act)</td></tr>
<tr class="memdesc:gafc0ea8142d7f6a344e70231626f129f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Record the action to be added later to the relevent atom in sequencial settings, avoid potential race condition if an action was added to an atom that is not owned by the thread. This is for a particle-particle contact.  <a href="group__DEM.html#gafc0ea8142d7f6a344e70231626f129f2">More...</a><br /></td></tr>
<tr class="separator:gafc0ea8142d7f6a344e70231626f129f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9aa57026cccdc2a995d7dffe1e370e9c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DEM.html#ga9aa57026cccdc2a995d7dffe1e370e9c">delayed_clean</a> ()</td></tr>
<tr class="memdesc:ga9aa57026cccdc2a995d7dffe1e370e9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clean the record list.  <a href="group__DEM.html#ga9aa57026cccdc2a995d7dffe1e370e9c">More...</a><br /></td></tr>
<tr class="separator:ga9aa57026cccdc2a995d7dffe1e370e9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga56662a7e3719219a056f8945629bed17"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DEM.html#ga56662a7e3719219a056f8945629bed17">delayingwall</a> (int ID, int j, <a class="el" href="classAction.html">Action</a> &amp;act)</td></tr>
<tr class="memdesc:ga56662a7e3719219a056f8945629bed17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Record the action on the wall. Only usefull if the force on the wall needs to be calculated.  <a href="group__DEM.html#ga56662a7e3719219a056f8945629bed17">More...</a><br /></td></tr>
<tr class="separator:ga56662a7e3719219a056f8945629bed17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga902604fea6f0f763703abe9d7cd3b9a6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DEM.html#ga902604fea6f0f763703abe9d7cd3b9a6">delayedwall_clean</a> ()</td></tr>
<tr class="memdesc:ga902604fea6f0f763703abe9d7cd3b9a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clean the record of the force on the wal.  <a href="group__DEM.html#ga902604fea6f0f763703abe9d7cd3b9a6">More...</a><br /></td></tr>
<tr class="separator:ga902604fea6f0f763703abe9d7cd3b9a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaac01e9375aa9f3abf33a553b9a6c5dbd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DEM.html#gaac01e9375aa9f3abf33a553b9a6c5dbd">load_balance</a> ()</td></tr>
<tr class="memdesc:gaac01e9375aa9f3abf33a553b9a6c5dbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modify the atom share between threads to achieve better load balance between the threads based on the current speed of each one during the previous iterations.  <a href="group__DEM.html#gaac01e9375aa9f3abf33a553b9a6c5dbd">More...</a><br /></td></tr>
<tr class="separator:gaac01e9375aa9f3abf33a553b9a6c5dbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf956b204095a34f69a549ae3b9ba7f9e"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DEM.html#gaf956b204095a34f69a549ae3b9ba7f9e">contacts2array</a> (<a class="el" href="group__DEM.html#ga513959f26fd4469592593d8e13e8eba1">ExportData</a> exp, <a class="el" href="group__DEM.html#gaaee07f7198d82fae2bc0b65da1c43582">cv2d</a> &amp;X, <a class="el" href="group__DEM.html#gaaee07f7198d82fae2bc0b65da1c43582">cv2d</a> &amp;<a class="el" href="group__Texturing.html#gae81dd62e2c6ced0fc9eb7a4ea7b1bd32">Boundaries</a>)</td></tr>
<tr class="memdesc:gaf956b204095a34f69a549ae3b9ba7f9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">pack the contact data in a 2d array  <a href="group__DEM.html#gaf956b204095a34f69a549ae3b9ba7f9e">More...</a><br /></td></tr>
<tr class="separator:gaf956b204095a34f69a549ae3b9ba7f9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a8e44ce6bab8e8f03bbc21d2616c651ea"><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="classContactList.html">ContactList</a>&lt; <a class="el" href="group__Texturing.html#ga234b9e563972a04e7cf0b991133f81fd">d</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMultiproc.html#a8e44ce6bab8e8f03bbc21d2616c651ea">CLp</a></td></tr>
<tr class="memdesc:a8e44ce6bab8e8f03bbc21d2616c651ea"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classContactList.html" title="Handles lists of contacts.">ContactList</a> particle-particle for each processor.  <a href="classMultiproc.html#a8e44ce6bab8e8f03bbc21d2616c651ea">More...</a><br /></td></tr>
<tr class="separator:a8e44ce6bab8e8f03bbc21d2616c651ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2f6b71cfb789957377af15f57c3ddc8"><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="classContactList.html">ContactList</a>&lt; <a class="el" href="group__Texturing.html#ga234b9e563972a04e7cf0b991133f81fd">d</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMultiproc.html#ab2f6b71cfb789957377af15f57c3ddc8">CLw</a></td></tr>
<tr class="memdesc:ab2f6b71cfb789957377af15f57c3ddc8"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classContactList.html" title="Handles lists of contacts.">ContactList</a> particle-wall for each processor.  <a href="classMultiproc.html#ab2f6b71cfb789957377af15f57c3ddc8">More...</a><br /></td></tr>
<tr class="separator:ab2f6b71cfb789957377af15f57c3ddc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e7773b5cad1e6e8034756a456b1bc20"><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="classContacts.html">Contacts</a>&lt; <a class="el" href="group__Texturing.html#ga234b9e563972a04e7cf0b991133f81fd">d</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMultiproc.html#a4e7773b5cad1e6e8034756a456b1bc20">C</a></td></tr>
<tr class="memdesc:a4e7773b5cad1e6e8034756a456b1bc20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dummy <a class="el" href="classContacts.html" title="Calculate contact forces.">Contacts</a> for independent calculation per processor.  <a href="classMultiproc.html#a4e7773b5cad1e6e8034756a456b1bc20">More...</a><br /></td></tr>
<tr class="separator:a4e7773b5cad1e6e8034756a456b1bc20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaca563b2f6dc09eca7082d598265934a"><td class="memItemLeft" align="right" valign="top">vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMultiproc.html#aaca563b2f6dc09eca7082d598265934a">share</a></td></tr>
<tr class="memdesc:aaca563b2f6dc09eca7082d598265934a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Particle share between threads. A thread ID own particles with index between share[ID] and share[ID+1]. size(share)=d+1.  <a href="classMultiproc.html#aaca563b2f6dc09eca7082d598265934a">More...</a><br /></td></tr>
<tr class="separator:aaca563b2f6dc09eca7082d598265934a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2d9736090b91da23d7d07d6d9840045"><td class="memItemLeft" align="right" valign="top">vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMultiproc.html#af2d9736090b91da23d7d07d6d9840045">timing</a></td></tr>
<tr class="memdesc:af2d9736090b91da23d7d07d6d9840045"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to record the time spent by each thread.  <a href="classMultiproc.html#af2d9736090b91da23d7d07d6d9840045">More...</a><br /></td></tr>
<tr class="separator:af2d9736090b91da23d7d07d6d9840045"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac898635d542458c39f661d2dad616b97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMultiproc.html#ac898635d542458c39f661d2dad616b97">num_time</a></td></tr>
<tr class="memdesc:ac898635d542458c39f661d2dad616b97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of sample of time spent. Resets when <a class="el" href="group__DEM.html#gaac01e9375aa9f3abf33a553b9a6c5dbd" title="Modify the atom share between threads to achieve better load balance between the threads based on the...">load_balance()</a> is called.  <a href="classMultiproc.html#ac898635d542458c39f661d2dad616b97">More...</a><br /></td></tr>
<tr class="separator:ac898635d542458c39f661d2dad616b97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9498815f6febd3e6fba415f001a27788"><td class="memItemLeft" align="right" valign="top">vector&lt; vector&lt; <a class="el" href="classAction.html">Action</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMultiproc.html#a9498815f6febd3e6fba415f001a27788">delayed</a></td></tr>
<tr class="memdesc:a9498815f6febd3e6fba415f001a27788"><td class="mdescLeft">&#160;</td><td class="mdescRight">Records the delayed <a class="el" href="classAction.html" title="Handle force and torque contact information.">Action</a>.  <a href="classMultiproc.html#a9498815f6febd3e6fba415f001a27788">More...</a><br /></td></tr>
<tr class="separator:a9498815f6febd3e6fba415f001a27788"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aceac9fea800bcc7589415e716cde5b02"><td class="memItemLeft" align="right" valign="top">vector&lt; vector&lt; int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMultiproc.html#aceac9fea800bcc7589415e716cde5b02">delayedj</a></td></tr>
<tr class="memdesc:aceac9fea800bcc7589415e716cde5b02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Records the j id of the particle in the associated delayed action.  <a href="classMultiproc.html#aceac9fea800bcc7589415e716cde5b02">More...</a><br /></td></tr>
<tr class="separator:aceac9fea800bcc7589415e716cde5b02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05b600c1fbe8f458d43716d47c43632a"><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="group__DEM.html#ga69aa29b598b851b0640aa225a9e5d61d">uint</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMultiproc.html#a05b600c1fbe8f458d43716d47c43632a">delayed_size</a></td></tr>
<tr class="memdesc:a05b600c1fbe8f458d43716d47c43632a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max length of the delayed vector for each thread. Can grow as needed on call to <a class="el" href="group__DEM.html#gafc0ea8142d7f6a344e70231626f129f2" title="Record the action to be added later to the relevent atom in sequencial settings, avoid potential race...">delaying()</a>  <a href="classMultiproc.html#a05b600c1fbe8f458d43716d47c43632a">More...</a><br /></td></tr>
<tr class="separator:a05b600c1fbe8f458d43716d47c43632a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d07d31f90d99c058dd99c22e6956cfc"><td class="memItemLeft" align="right" valign="top">vector&lt; vector&lt; <a class="el" href="classAction.html">Action</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMultiproc.html#a2d07d31f90d99c058dd99c22e6956cfc">delayedwall</a></td></tr>
<tr class="memdesc:a2d07d31f90d99c058dd99c22e6956cfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Records the delayed <a class="el" href="classAction.html" title="Handle force and torque contact information.">Action</a>.  <a href="classMultiproc.html#a2d07d31f90d99c058dd99c22e6956cfc">More...</a><br /></td></tr>
<tr class="separator:a2d07d31f90d99c058dd99c22e6956cfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec88aed3142b48dade49aa0daa32037a"><td class="memItemLeft" align="right" valign="top">vector&lt; vector&lt; int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMultiproc.html#aec88aed3142b48dade49aa0daa32037a">delayedwallj</a></td></tr>
<tr class="memdesc:aec88aed3142b48dade49aa0daa32037a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Records the j id of the wall in the associated delayed action.  <a href="classMultiproc.html#aec88aed3142b48dade49aa0daa32037a">More...</a><br /></td></tr>
<tr class="separator:aec88aed3142b48dade49aa0daa32037a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ea378fcbc3be22a2afe8744df23d9db"><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="group__DEM.html#ga69aa29b598b851b0640aa225a9e5d61d">uint</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMultiproc.html#a4ea378fcbc3be22a2afe8744df23d9db">delayedwall_size</a></td></tr>
<tr class="memdesc:a4ea378fcbc3be22a2afe8744df23d9db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max length of the delayed wall vector for each thread. Can grow as needed on call to <a class="el" href="group__DEM.html#gafc0ea8142d7f6a344e70231626f129f2" title="Record the action to be added later to the relevent atom in sequencial settings, avoid potential race...">delaying()</a>  <a href="classMultiproc.html#a4ea378fcbc3be22a2afe8744df23d9db">More...</a><br /></td></tr>
<tr class="separator:a4ea378fcbc3be22a2afe8744df23d9db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e2d638fe1f99d1124d90839ffa14285"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMultiproc.html#a3e2d638fe1f99d1124d90839ffa14285">P</a></td></tr>
<tr class="memdesc:a3e2d638fe1f99d1124d90839ffa14285"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of threads.  <a href="classMultiproc.html#a3e2d638fe1f99d1124d90839ffa14285">More...</a><br /></td></tr>
<tr class="separator:a3e2d638fe1f99d1124d90839ffa14285"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ga7a3c3c6b021a4ecf43dbf795f2230d77"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DEM.html#ga7a3c3c6b021a4ecf43dbf795f2230d77">split</a> (int <a class="el" href="classMultiproc.html#aa748a5787f222e29ca5a213681d45e48">N</a>, int <a class="el" href="classMultiproc.html#a3e2d638fe1f99d1124d90839ffa14285">P</a>)</td></tr>
<tr class="memdesc:ga7a3c3c6b021a4ecf43dbf795f2230d77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to allocate the grains to threads taking into account the load balance in the contact detection. <a class="el" href="group__DEM.html#gaac01e9375aa9f3abf33a553b9a6c5dbd" title="Modify the atom share between threads to achieve better load balance between the threads based on the...">load_balance()</a> takes over after a few iteration have run, and is usually more efficient.  <a href="group__DEM.html#ga7a3c3c6b021a4ecf43dbf795f2230d77">More...</a><br /></td></tr>
<tr class="separator:ga7a3c3c6b021a4ecf43dbf795f2230d77"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a51d452b936a3c13d8ee8ceb9f2e17ea1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DEM.html#ga0635bc41e0e88fb34a49d35e69cdab8f">v2d</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMultiproc.html#a51d452b936a3c13d8ee8ceb9f2e17ea1">fullcontactinfo</a></td></tr>
<tr class="separator:a51d452b936a3c13d8ee8ceb9f2e17ea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa748a5787f222e29ca5a213681d45e48"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMultiproc.html#aa748a5787f222e29ca5a213681d45e48">N</a></td></tr>
<tr class="memdesc:aa748a5787f222e29ca5a213681d45e48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of grains.  <a href="classMultiproc.html#aa748a5787f222e29ca5a213681d45e48">More...</a><br /></td></tr>
<tr class="separator:aa748a5787f222e29ca5a213681d45e48"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;int d&gt;<br />
class Multiproc&lt; d &gt;</h3>

<p>Manual multiprocessor handling for OpenMP, for max efficiency &amp; avoiding bugs &amp; race conditions, hopefully. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="af469cf9d0075a8d76d22de5980b8602f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af469cf9d0075a8d76d22de5980b8602f">&#9670;&nbsp;</a></span>initialise()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int d&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMultiproc.html">Multiproc</a>&lt; <a class="el" href="group__Texturing.html#ga234b9e563972a04e7cf0b991133f81fd">d</a> &gt;::initialise </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>NN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>PP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classParameters.html">Parameters</a>&lt; <a class="el" href="group__Texturing.html#ga234b9e563972a04e7cf0b991133f81fd">d</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>Param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a4e7773b5cad1e6e8034756a456b1bc20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e7773b5cad1e6e8034756a456b1bc20">&#9670;&nbsp;</a></span>C</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int d&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;<a class="el" href="classContacts.html">Contacts</a>&lt;<a class="el" href="group__Texturing.html#ga234b9e563972a04e7cf0b991133f81fd">d</a>&gt; &gt; <a class="el" href="classMultiproc.html">Multiproc</a>&lt; <a class="el" href="group__Texturing.html#ga234b9e563972a04e7cf0b991133f81fd">d</a> &gt;::C</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dummy <a class="el" href="classContacts.html" title="Calculate contact forces.">Contacts</a> for independent calculation per processor. </p>

</div>
</div>
<a id="a8e44ce6bab8e8f03bbc21d2616c651ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e44ce6bab8e8f03bbc21d2616c651ea">&#9670;&nbsp;</a></span>CLp</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int d&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;<a class="el" href="classContactList.html">ContactList</a>&lt;<a class="el" href="group__Texturing.html#ga234b9e563972a04e7cf0b991133f81fd">d</a>&gt; &gt; <a class="el" href="classMultiproc.html">Multiproc</a>&lt; <a class="el" href="group__Texturing.html#ga234b9e563972a04e7cf0b991133f81fd">d</a> &gt;::CLp</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classContactList.html" title="Handles lists of contacts.">ContactList</a> particle-particle for each processor. </p>

</div>
</div>
<a id="ab2f6b71cfb789957377af15f57c3ddc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2f6b71cfb789957377af15f57c3ddc8">&#9670;&nbsp;</a></span>CLw</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int d&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;<a class="el" href="classContactList.html">ContactList</a>&lt;<a class="el" href="group__Texturing.html#ga234b9e563972a04e7cf0b991133f81fd">d</a>&gt; &gt; <a class="el" href="classMultiproc.html">Multiproc</a>&lt; <a class="el" href="group__Texturing.html#ga234b9e563972a04e7cf0b991133f81fd">d</a> &gt;::CLw</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classContactList.html" title="Handles lists of contacts.">ContactList</a> particle-wall for each processor. </p>

</div>
</div>
<a id="a9498815f6febd3e6fba415f001a27788"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9498815f6febd3e6fba415f001a27788">&#9670;&nbsp;</a></span>delayed</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int d&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;vector &lt;<a class="el" href="classAction.html">Action</a>&gt; &gt; <a class="el" href="classMultiproc.html">Multiproc</a>&lt; <a class="el" href="group__Texturing.html#ga234b9e563972a04e7cf0b991133f81fd">d</a> &gt;::delayed</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Records the delayed <a class="el" href="classAction.html" title="Handle force and torque contact information.">Action</a>. </p>

</div>
</div>
<a id="a05b600c1fbe8f458d43716d47c43632a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05b600c1fbe8f458d43716d47c43632a">&#9670;&nbsp;</a></span>delayed_size</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int d&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;<a class="el" href="group__DEM.html#ga69aa29b598b851b0640aa225a9e5d61d">uint</a>&gt; <a class="el" href="classMultiproc.html">Multiproc</a>&lt; <a class="el" href="group__Texturing.html#ga234b9e563972a04e7cf0b991133f81fd">d</a> &gt;::delayed_size</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Max length of the delayed vector for each thread. Can grow as needed on call to <a class="el" href="group__DEM.html#gafc0ea8142d7f6a344e70231626f129f2" title="Record the action to be added later to the relevent atom in sequencial settings, avoid potential race...">delaying()</a> </p>

</div>
</div>
<a id="aceac9fea800bcc7589415e716cde5b02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aceac9fea800bcc7589415e716cde5b02">&#9670;&nbsp;</a></span>delayedj</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int d&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;vector &lt;int&gt; &gt; <a class="el" href="classMultiproc.html">Multiproc</a>&lt; <a class="el" href="group__Texturing.html#ga234b9e563972a04e7cf0b991133f81fd">d</a> &gt;::delayedj</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Records the j id of the particle in the associated delayed action. </p>

</div>
</div>
<a id="a2d07d31f90d99c058dd99c22e6956cfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d07d31f90d99c058dd99c22e6956cfc">&#9670;&nbsp;</a></span>delayedwall</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int d&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;vector &lt;<a class="el" href="classAction.html">Action</a>&gt; &gt; <a class="el" href="classMultiproc.html">Multiproc</a>&lt; <a class="el" href="group__Texturing.html#ga234b9e563972a04e7cf0b991133f81fd">d</a> &gt;::delayedwall</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Records the delayed <a class="el" href="classAction.html" title="Handle force and torque contact information.">Action</a>. </p>

</div>
</div>
<a id="a4ea378fcbc3be22a2afe8744df23d9db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ea378fcbc3be22a2afe8744df23d9db">&#9670;&nbsp;</a></span>delayedwall_size</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int d&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;<a class="el" href="group__DEM.html#ga69aa29b598b851b0640aa225a9e5d61d">uint</a>&gt; <a class="el" href="classMultiproc.html">Multiproc</a>&lt; <a class="el" href="group__Texturing.html#ga234b9e563972a04e7cf0b991133f81fd">d</a> &gt;::delayedwall_size</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Max length of the delayed wall vector for each thread. Can grow as needed on call to <a class="el" href="group__DEM.html#gafc0ea8142d7f6a344e70231626f129f2" title="Record the action to be added later to the relevent atom in sequencial settings, avoid potential race...">delaying()</a> </p>

</div>
</div>
<a id="aec88aed3142b48dade49aa0daa32037a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec88aed3142b48dade49aa0daa32037a">&#9670;&nbsp;</a></span>delayedwallj</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int d&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;vector &lt;int&gt; &gt; <a class="el" href="classMultiproc.html">Multiproc</a>&lt; <a class="el" href="group__Texturing.html#ga234b9e563972a04e7cf0b991133f81fd">d</a> &gt;::delayedwallj</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Records the j id of the wall in the associated delayed action. </p>

</div>
</div>
<a id="a51d452b936a3c13d8ee8ceb9f2e17ea1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51d452b936a3c13d8ee8ceb9f2e17ea1">&#9670;&nbsp;</a></span>fullcontactinfo</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int d&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DEM.html#ga0635bc41e0e88fb34a49d35e69cdab8f">v2d</a> <a class="el" href="classMultiproc.html">Multiproc</a>&lt; <a class="el" href="group__Texturing.html#ga234b9e563972a04e7cf0b991133f81fd">d</a> &gt;::fullcontactinfo</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa748a5787f222e29ca5a213681d45e48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa748a5787f222e29ca5a213681d45e48">&#9670;&nbsp;</a></span>N</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int d&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classMultiproc.html">Multiproc</a>&lt; <a class="el" href="group__Texturing.html#ga234b9e563972a04e7cf0b991133f81fd">d</a> &gt;::N</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of grains. </p>

</div>
</div>
<a id="ac898635d542458c39f661d2dad616b97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac898635d542458c39f661d2dad616b97">&#9670;&nbsp;</a></span>num_time</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int d&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classMultiproc.html">Multiproc</a>&lt; <a class="el" href="group__Texturing.html#ga234b9e563972a04e7cf0b991133f81fd">d</a> &gt;::num_time</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of sample of time spent. Resets when <a class="el" href="group__DEM.html#gaac01e9375aa9f3abf33a553b9a6c5dbd" title="Modify the atom share between threads to achieve better load balance between the threads based on the...">load_balance()</a> is called. </p>

</div>
</div>
<a id="a3e2d638fe1f99d1124d90839ffa14285"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e2d638fe1f99d1124d90839ffa14285">&#9670;&nbsp;</a></span>P</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int d&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classMultiproc.html">Multiproc</a>&lt; <a class="el" href="group__Texturing.html#ga234b9e563972a04e7cf0b991133f81fd">d</a> &gt;::P</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of threads. </p>

</div>
</div>
<a id="aaca563b2f6dc09eca7082d598265934a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaca563b2f6dc09eca7082d598265934a">&#9670;&nbsp;</a></span>share</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int d&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;int&gt; <a class="el" href="classMultiproc.html">Multiproc</a>&lt; <a class="el" href="group__Texturing.html#ga234b9e563972a04e7cf0b991133f81fd">d</a> &gt;::share</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Particle share between threads. A thread ID own particles with index between share[ID] and share[ID+1]. size(share)=d+1. </p>

</div>
</div>
<a id="af2d9736090b91da23d7d07d6d9840045"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2d9736090b91da23d7d07d6d9840045">&#9670;&nbsp;</a></span>timing</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int d&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;double&gt; <a class="el" href="classMultiproc.html">Multiproc</a>&lt; <a class="el" href="group__Texturing.html#ga234b9e563972a04e7cf0b991133f81fd">d</a> &gt;::timing</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used to record the time spent by each thread. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/runner/work/NDDEM/NDDEM/src/Dem/<a class="el" href="Multiproc_8h_source.html">Multiproc.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
