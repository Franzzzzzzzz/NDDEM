<!DOCTYPE html>
<html lang="en">
	<head>
		<title>MuDEM</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
		<!-- Origin Trial Token, feature = WebXR Device API (For Chrome M69+), origin = https://threejs.org, expires = 2019-03-06 -->
		<!-- <meta http-equiv="origin-trial" data-feature="WebXR Device API (For Chrome M69+)" data-expires="2019-03-06" content="AvDjbxYpoTgOL1PS0JEra7KFCehfTlKnXpU/ORSwNdCQ35cX70cTUkXOnQ26A5XJi3eXHSKpBPchdt5lbcxDuAIAAABTeyJvcmlnaW4iOiJodHRwczovL3RocmVlanMub3JnOjQ0MyIsImZlYXR1cmUiOiJXZWJYUkRldmljZU02OSIsImV4cGlyeSI6MTU1MTgzMDM5OX0="> -->
        <style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
            #N_tag {
                color: white;
                padding: 24px;
                font: 48px Montserrat;
                font-weight: bold;
                position:absolute;
            }
		</style>
        <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
        <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v6.0.0/dist/aframe-extras.min.js"></script>
		<!-- <script src="https://unpkg.com/super-hands@3.0.0/dist/super-hands.min.js"></script> -->
        <script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js"></script>

        <script src="node_modules/papaparse/papaparse.js"></script>
        <script src="js/a-frame/particles.js"></script>
        <script src="js/a-frame/infile.js"></script>
        <script src="js/a-frame/x-button-listener.js"></script>
        <script src="js/a-frame/pause-on-gripdown.js"></script>
        <script src="js/a-frame/torus.js"></script>
        <script src="js/a-frame/auto-enter-vr.js"></script>
		<script src="js/a-frame/rotate-D4.js"></script>
        <!-- <script src="http://localhost:8000/visualise/js/aframe.min.js"></script> -->

	</head>
	<body>
        <!-- <a-scene auto-enter-vr> -->
        <a-scene>
            <a-assets>
                <a-asset-item id="oculuslefthand" src="https://cdn.aframe.io/controllers/oculus-hands/v2/leftHand.json"></a-asset-item>
                <a-asset-item id="oculusrighthand" src="https://cdn.aframe.io/controllers/oculus-hands/v2/rightHand.json"></a-asset-item>
</a-assets>
			<a-entity id="infile" infile="fname: D5/"></a-entity>
            <a-entity environment="preset: forest; dressingAmount: 500" rotation="0 0 -90"></a-entity>
            <!-- <a-entity environment="preset: default;" rotation="0 0 -90"></a-entity> -->

            <a-entity id="rig" position="0 2 5" rotation="0 0 -90" scale="3 3 3">
                <a-camera id="camera"></a-camera>
				<a-entity id="leftHand" hand-controls="left" model="oculuslefthand" rotate-d4>
                    <a-entity id="leftTorus" torus="hand: left" position="0 0 0.2" rotation="0 0 -90"></a-entity>
                </a-entity>
				<a-entity id="rightHand" hand-controls="right" model="#oculusrighthand" pause-on-gripdown rotators-D6-D7>
                    <a-entity id="rightTorus" torus="hand: right" position="0 0 0.2" rotation="0 0 90"></a-entity>
                </a-entity>
            </a-entity>
            <a-entity id="particles" particles="view_mode: default;"></a-entity>
        </a-scene>
        <!-- <script>
            // display_type = "VR";
            // display_type = "anaglyph";
            display_type = "keyboard";
            fname = "D4/";
            quality = 5

            const urlParams = new URLSearchParams(window.location.search);
            if ( urlParams.has('fname') ) { fname = urlParams.get('fname'); };
            if ( urlParams.has('display_type') ) { display_type = urlParams.get('display_type'); };
            if ( urlParams.has('view_mode') ) { view_mode = urlParams.get('view_mode'); };
            if ( urlParams.has('autoplay') ) { autoplay = urlParams.get('autoplay'); };
            if ( urlParams.has('rate') ) { rate = urlParams.get('rate'); };
            if ( urlParams.has('shadows') ) { shadows = urlParams.get('shadows'); };
            if ( urlParams.has('quality') ) { quality = urlParams.get('quality'); };
            if ( urlParams.has('zoom') ) { zoom = urlParams.get('zoom'); };
            if ( urlParams.has('pinky') ) { pinky = urlParams.get('pinky'); };
            if ( urlParams.has('cache') ) { cache = urlParams.get('cache'); };
        </script> -->
        <!-- <script src="js/nddem.js"></script> -->
	</body>
</html>
