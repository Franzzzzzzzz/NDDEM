<!doctype html>
<html lang="en">
<head>
  <meta charset='utf-8'>
  <title>  | Documentation</title>
  <meta name='viewport' content='width=device-width,initial-scale=1'>
  <link href='assets/bass.css' rel='stylesheet'>
  <link href='assets/style.css' rel='stylesheet'>
  <link href='assets/github.css' rel='stylesheet'>
  <link href='assets/split.css' rel='stylesheet'>
</head>
<body class='documentation m0'>
    <div class='flex'>
      <div id='split-left' class='overflow-auto fs0 height-viewport-100'>
        <div class='py1 px2'>
          <h3 class='mb0 no-anchor'></h3>
          <div class='mb1'><code></code></div>
          <input
            placeholder='Filter'
            id='filter-input'
            class='col12 block input'
            spellcheck='false'
            autocapitalize='off'
            autocorrect='off'
            type='text' />
          <div id='toc'>
            <ul class='list-reset h5 py1-ul'>
              
                
                <li><a
                  href='#introduction'
                  class="h5 bold black caps">
                  Introduction
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#particle-visualisation'
                  class="h5 bold black caps">
                  Particle visualisation
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#coarse-grained-data'
                  class="h5 bold black caps">
                  Coarse grained data
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#reference'
                  class="h5 bold black caps">
                  Reference
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#build_world'
                  class="">
                  build_world
                  
                </a>
                
                </li>
              
            </ul>
          </div>
          <div class='mt1 h6 quiet'>
            <a href='https://documentation.js.org/reading-documentation.html'>Need help reading this?</a>
          </div>
        </div>
      </div>
      <div id='split-right' class='relative overflow-auto height-viewport-100'>
        
          
            <div class='keyline-top-not py2'><section class='py2 clearfix'>

  <h2 id='introduction' class='mt0'>
    Introduction
  </h2>

  
    <p>This module contains two distinct methods for:</p>
<ol>
<li>Particle visualisation</li>
<li>Coarse grained data visualisation</li>
<li></li>
</ol>
<p>These methods both leverage <a href="https://threejs.org/">three.js</a> to render the visualisations in the browser. Visualisation options are controlled by setting the URL of the browser correctly.</p>
<h3>Installation</h3>
<p>To be able to view local data, that data needs to be served from a local server. This can be done by using the TexturingServer described elsewhere, or if no texturing is needed, two lightweight servers are included that work under Python or JS:</p>
<h4>TexturingServer method</h4>
<p>Follow the instructions to compile the TexturingServer.</p>
<h4>JS Method</h4>
<ol>
<li>Install node.js. Try <code>sudo apt-get install nodejs</code> (tested with node.js v11.13.0)</li>
<li>Install required packages by running <code>npm install --global express cors glob</code></li>
</ol>
<h4>Python method</h4>
<p>This should work under <code>python2</code> or <code>python3</code>, with no additional dependencies, so as long as you have either of these installed on your system you have no need to install anything</p>
<h3>Usage</h3>
<ol>
<li>Navigate to the main github directory and run <code>node server.js</code> or <code>python server.py</code> or <code>./Texturing/TexturingServer</code> to start a web server which will be used to serve local files.</li>
<li>Open <code>visualise/index.html</code> in chrome or firefox. Supermedium is recommended if you want to use VR.</li>
<li>Visualisation flags can either be hardcoded in <code>index.html</code> or can be set via the URL, for example: <code>index.html?fname=Samples/SpinnerD5/&#x26;view_mode=rotations</code></li>
</ol>
<h3>Flags:</h3>
<ul>
<li><code>fname</code>: folder name where data is stored. Trailing slash is optional. Default is <code>Samples/D4/</code></li>
<li><code>display_type</code>: <code>VR</code>, <code>keyboard</code> or <code>anaglyph</code>. Default is <code>keyboard</code>.</li>
<li><code>view_mode</code>: <code>undefined</code> (normal and default), <code>catch_particle</code>, <code>rotations</code>, <code>velocity</code> or <code>rotation_rate</code></li>
<li><code>autoplay</code>: <code>true</code> or <code>false</code> to start time marching on load. Default is <code>false</code>.</li>
<li><code>rate</code>: <code>float</code> that sets the speed of time marching. Units are DEM time units\second. Default is <code>5.0</code>.</li>
<li><code>shadows</code>: <code>true</code> or <code>false</code> to render shadows. Default is <code>true</code>.</li>
<li><code>quality</code>: <code>int</code> to set quality of rendering. Higher is more compute expensive. Default is <code>5</code>.</li>
<li><code>zoom</code>: <code>float</code> to set how much to zoom in. Default is <code>20</code>.</li>
<li><code>pinky</code>: only used if <code>view_mode</code> is <code>catch_particle</code>. <code>int</code> that sets which particle to render in pink. Default is <code>100</code>.</li>
<li><code>cache</code>: <code>true</code> or <code>false</code> to cache local data in the browser. Default is <code>false</code>.</li>
<li><code>hard_mode</code>: <code>true</code> or <code>false</code> to disable tori in VR mode to make things harder for the user. Default is <code>false</code>. This is meant to be more 'fun' but YMMV.</li>
<li><code>quasicrystal</code>: <code>true</code> or <code>false</code> to view in quasicrystal mode. Default is <code>false</code>.</li>
<li><code>mercury</code>: <code>true</code> or <code>false</code> to load MercuryDPM data instead of NDDEM data. Default is <code>false</code>.</li>
<li><code>colour_scheme</code>: set to <code>inverted</code> to invert global colour scheme to have a white background.</li>
<li><code>rotate_torus</code>: <code>float</code> to rotate the torus around the x1 axis in degrees</li>
</ul>
<p>An example command that works for me, when the TexturingServer is running: /path/to/index.html?fname=D5Cristal/&#x26;view_mode=D4&#x26;colour_scheme=inverted&#x26;time=350&#x26;rate=5&#x26;display_type=keyboard</p>

  
</section></div>
          
        
          
            <div class='keyline-top-not py2'><section class='py2 clearfix'>

  <h2 id='particle-visualisation' class='mt0'>
    Particle visualisation
  </h2>

  
    <p>Below is the default output of the visualisation software for a 3D simulation of spheres flowing down an inclined plane. You can manually move through time, or enable auto playing in the top right. The speed it is playing can be controlled with the "Rate" parameter.</p>
<iframe style="width:90%;height:500px;display:block;margin-left:auto;margin-right:auto;" src="../../visualise/index.html?fname=D3"></iframe>
<h3>Getting around in ND</h3>
<p>But what about dimensions higher than 3? For this, we need some way to project particles from higher dimensions down to 3D. In this example, we will project a 3D sphere down to a 2D circle by slicing it. Move the pink plane on the left around with the slider and see the resulting size of the circle on the right. The circle is largest when the sphere is sliced through its centre.</p>
<iframe style="width:90%;height:500px;display:block;margin-left:auto;margin-right:auto;" src="../../visualise/examples/slice.html"></iframe>
<p>Now, lets try that same thing, but we are going to slice a 5D hypersphere with a 3D volume. For this, there are two coordinates for where we are slicing, which you can control with the sliders. The torus on the right hand side represents where we are in these two dimensions. Notice how as you move around, the small pink ball moves. This small pink ball represents the location of the hypersphere relative to these two coordinates. The sphere on the left is again largest when we slice through its centre â€” when the ball is at the centre of the black cross</p>
<iframe style="width:90%;height:500px;display:block;margin-left:auto;margin-right:auto;" src="../../visualise/examples/torus_explainer.html"></iframe>
<p>Let's now go and look at inclined plane flow in 5D</p>
<iframe style="width:90%;height:500px;display:block;margin-left:auto;margin-right:auto;" src="../../visualise/index.html?fname=D5"></iframe>
<h3>Particle rotation</h3>
<p>To be able to see a particle rotate, we need to attach a texture to it. Here is how we visualise the earth rotating.</p>
<iframe style="width:90%;height:500px;display:block;margin-left:auto;margin-right:auto;" src="../../visualise/examples/rotating_earth.html"></iframe>
<p>In 3D, there are three directions that an object can rotate in.</p>
<iframe style="width:90%;height:500px;display:block;margin-left:auto;margin-right:auto;" src="../../visualise/examples/multiple_rotating_earths.html"></iframe>
<p><span style="color:red">In higher dimensions, there are more!... Information needed. See paper. Maybe just include the full movie we are making for the supplementary information?</span></p>
<p>As we can't render the textures needed to do this without a computer, below is a video of inclined plane flow in D3, D4 and D5 with textures attached.</p>
<p><video style="width:90%;height:500px;display:block;margin-left:auto;margin-right:auto;" controls><source src="https://www.benjymarks.com/nddem/videos/RenderMultiD.mp4"></video></p>
<h3>Trying out VR</h3>
<iframe style="width:90%;height:500px;display:block;margin-left:auto;margin-right:auto;" src="../../visualise/examples/vr-menu.html"></iframe>

  
</section></div>
          
        
          
            <div class='keyline-top-not py2'><section class='py2 clearfix'>

  <h2 id='coarse-grained-data' class='mt0'>
    Coarse grained data
  </h2>

  
    <iframe style="width:90%;height:500px;display:block;margin-left:auto;margin-right:auto;" src="../../visualise/coarse_grain.html"></iframe>

  
</section></div>
          
        
          
            <div class='keyline-top-not py2'><section class='py2 clearfix'>

  <h2 id='reference' class='mt0'>
    Reference
  </h2>

  
    

  
</section></div>
          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='build_world'>
      build_world
    </h3>
    
    
  </div>
  

  <p>Initialise the threejs scene, adding everything necessary, such as camera, controls, lighting etc.</p>

    <div class='pre p1 fill-light mt0'>build_world()</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
      </div>
    </div>
  <script src='assets/anchor.js'></script>
  <script src='assets/split.js'></script>
  <script src='assets/site.js'></script>
</body>
</html>
